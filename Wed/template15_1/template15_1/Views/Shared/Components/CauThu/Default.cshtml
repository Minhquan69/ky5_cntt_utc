@model IEnumerable<Cauthu>
<div class="navbar-nav">
    @foreach (var item in Model)
    {
        <a class="nav-list_link py-1 nav-link active" href="javascript:void(0)" onclick="loadData('@item.CauThuId')">@item.HoVaTen</a>
    }
</div>
<script src="../template15/assets/js/jquery-3.6.0.min.js"></script>
<script type="text/javascript">
    function loadData(cauThuId) {


        $.ajax({
            url: '@Url.Action("GetData", "Home")',
            type: 'GET',
            data: { CauThuId: cauThuId },
            success: function (response) {
                console.log(response); // Log the response to see its structure

                if (response.length > 0) {
                    let tableHtml = `
                                    <table class="table table-bordered">
                                        <thead class="thead-dark">
                                            <tr>
                                                <th>Trận Đấu ID</th>
                                                <th>Ngày Thi Đấu</th>
                                                <th>CLB Nhà</th>
                                                <th>CLB Khách</th>
                                                <th>Kết Quả</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                `;
                    response.forEach(match => {
                        tableHtml += `
                                        <tr>
                                            <td>${match.tranDauId}</td>
                                            <td>${match.ngayThiDau}</td>
                                            <td>${match.clbnha}</td>
                                            <td>${match.clbkhach}</td>
                                            <td>${match.ketQua}</td>
                                        </tr>
                                    `;
                    });

                    tableHtml += `
                                        </tbody>
                                    </table>
                                `;
                    $('#result').html(tableHtml);
                } else {
                    $('#result').html('Không có trận đấu nào.');
                }
            },
            error: function () {
                $('#result').html('Có lỗi xảy ra.');
            }
        });
    }
</script>
